#!/bin/bash

# One-time setup script for new clones
# Run this after cloning the repo

set -e

echo "üîß Setting up shawnyeager-notes repository..."
echo ""

# Configure git hooks
echo "üìã Configuring git hooks..."
git config core.hooksPath .githooks
echo "   ‚úÖ Git hooks path set to .githooks"
echo ""

# Verify mise is available
if ! command -v mise &> /dev/null; then
    echo "‚ö†Ô∏è  mise not found. Install from: https://mise.jdx.dev"
    echo "   Tools will need to be installed manually."
    exit 1
fi

# mise will auto-install tools, but let's verify
echo "üì¶ Verifying mise tools..."
mise install
echo "   ‚úÖ All mise tools installed"
echo ""

echo "‚úÖ Setup complete!"
echo ""
echo "Pre-commit hooks are now active and will:"
echo "  ‚Ä¢ Auto-fix markdown formatting (markdownlint-cli2)"
echo "  ‚Ä¢ Convert smart punctuation to plain ASCII"
echo "  ‚Ä¢ Show what was fixed before committing"
