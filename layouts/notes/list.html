{{ define "main" }}
<section class="recent-notes">
    {{ $lastYear := "" }}
    {{ range .Paginator.Pages }}
        {{ $currentYear := .Date.Format "2006" }}
        {{ if ne $currentYear $lastYear }}
            <h3 class="year-heading">{{ $currentYear }}</h3>
            {{ $lastYear = $currentYear }}
        {{ end }}
        <div class="note-item">
            <a href="{{ .RelPermalink }}">
                <span class="note-date">{{ .Date.Format "Jan · 02" }}</span>
                <span class="note-title-link">{{ .Title }}</span>
            </a>
        </div>
    {{ end }}
</section>

{{ if or .Paginator.HasPrev .Paginator.HasNext }}
<nav class="pagination">
    {{ if .Paginator.HasPrev }}
    <a href="{{ .Paginator.Prev.URL }}" class="pagination-prev"><span aria-hidden="true">←</span> Newer</a>
    {{ end }}
    {{ if .Paginator.HasNext }}
    <a href="{{ .Paginator.Next.URL }}" class="pagination-next">Older <span aria-hidden="true">→</span></a>
    {{ end }}
</nav>
{{ end }}
{{ end }}
