/* ==========================================================================
   Main Stylesheet for shawnyeager.com & shawnyeager.org
   Complete design system implementation
   Version 1.7 - October 2025 - WCAG AA contrast compliance
   ========================================================================== */

/* ==========================================================================
   CSS Custom Properties (Design Tokens)
   ========================================================================== */

:root {
    /* Brand Colors - Trust Revolution Orange */
    --brand-orange: #F84200;
    --brand-orange-hover: #d63900;

    /* Light Mode Colors - WCAG AA compliant */
    --text-primary: #1a1a1a;        /* 16.1:1 contrast */
    --text-secondary: #555;          /* 7.5:1 contrast */
    --text-tertiary: #555;           /* 7.5:1 contrast */
    --text-meta: #777;               /* 4.7:1 contrast */
    --text-subtle: #767676;          /* 4.54:1 contrast */
    --border-color: #d5d5d5;
    --background-body: #ffffff;
    --background-card: #fafafa;

    /* Typography */
    --font-system: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    --line-height-body: 1.6;
    --line-height-essay: 1.7;
    --line-height-heading: 1.2;

    /* Spacing System */
    --space-section: 3rem;      /* Between major sections */
    --space-large: 3rem;        /* Large spacing for major content blocks */
    --space-divider: 2rem;      /* Around dividers (nav, footer) */
    --space-element: 1.5rem;    /* Between related elements */
    --space-tight: 1rem;        /* Tight coupling (intro to form) */
    --list-item-spacing: 0.35rem;  /* List item vertical spacing */

    /* Syntax Highlighting - Light Mode */
    --syntax-keyword: #0066aa;      /* Deep blue - keywords (if, function, const) */
    --syntax-function: #6f42c1;     /* Purple - function names */
    --syntax-string: #aa5d00;       /* Deep orange - strings */
    --syntax-operator: #555555;     /* Medium gray - operators (=, +, etc) */
    --syntax-default: #1a1a1a;      /* Near black - default text */
}

@media (prefers-color-scheme: dark) {
    :root {
        /* Brand Colors - Adjusted for dark mode */
        --brand-orange: #FF5733;
        --brand-orange-hover: #FF6B47;

        /* Dark Mode Colors - WCAG AA compliant */
        --text-primary: #e8e8e8;        /* 12.6:1 contrast */
        --text-secondary: #d0d0d0;      /* 9.4:1 contrast */
        --text-tertiary: #aaa;          /* 5.4:1 contrast */
        --text-meta: #999;              /* 4.9:1 contrast */
        --text-subtle: #a0a0a0;         /* 4.2:1 contrast */
        --border-color: #505050;
        --background-body: #2a2a2a;
        --background-card: #333333;

        /* Syntax Highlighting - Dark Mode */
        --syntax-keyword: #6cb6ff;      /* Soft blue - keywords */
        --syntax-function: #d2a8ff;     /* Soft purple - function names */
        --syntax-string: #e9b872;       /* Soft amber - strings */
        --syntax-operator: #b0b0b0;     /* Light gray - operators */
        --syntax-default: #d0d0d0;      /* Light gray - default text */
    }
}

/* ==========================================================================
   Base Styles & Resets
   ========================================================================== */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    overflow-y: scroll; /* Prevent horizontal shift when scrollbar appears/disappears */
}

body {
    font-family: var(--font-system);
    line-height: var(--line-height-body);
    color: var(--text-primary);
    background: var(--background-body);
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ==========================================================================
   Brand Bar (Fixed Top)
   ========================================================================== */

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--brand-orange);
    z-index: 9999;
}

/* ==========================================================================
   Typography
   ========================================================================== */

h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    letter-spacing: -0.02em;
    color: var(--text-primary);
}

h1 {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 2rem;
    letter-spacing: -0.025em;
}

/* Site name in header should use text color, not brand color */
header h1 a {
    color: var(--text-primary);
}

header h1 a:hover {
    color: var(--text-primary);
}

h2 {
    font-size: 1.25rem;
    font-weight: 600;
}

h3 {
    font-size: 1.1rem;
    font-weight: 600;
}

/* ==========================================================================
   Links
   ========================================================================== */

a {
    color: var(--brand-orange);
    text-decoration: none;
    transition: color 0.3s ease;
}

a:hover {
    color: var(--brand-orange-hover);
}

/* Arrow alignment in links */
a span[aria-hidden="true"] {
    display: inline-block;
    vertical-align: middle;
    transform: translateY(-0.1em);
}

/* ==========================================================================
   Link Hierarchy System
   ========================================================================== */

/* CTA Links - Primary action links WITH arrows (→)
   Usage: "Read more →", "All essays →", "Subscribe to newsletter →"
   IMPORTANT: CTA links should NEVER have underlines */
.cta-link,
.read-more,
.all-essays,
.all-notes,
.podcast-links a,
.download-link,
.contact-item a {
    color: var(--brand-orange) !important;
    text-decoration: none !important;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    transition: color 0.3s ease;
}

.cta-link:hover,
.read-more:hover,
.all-essays:hover,
.all-notes:hover,
.podcast-links a:hover,
.download-link:hover,
.contact-item a:hover {
    color: var(--brand-orange-hover) !important;
    text-decoration: none !important;
}

/* Service/Platform Links - Orange, NO arrow
   Usage: Podcast apps (Fountain, Spotify), social platforms */
.podcast-services a {
    color: var(--brand-orange);
    text-decoration: none;
    transition: color 0.3s ease;
}

.podcast-services a:hover {
    color: var(--brand-orange-hover);
}

/* ==========================================================================
   Layout Container
   ========================================================================== */

.container {
    max-width: 700px;
    margin: 0 auto;
    padding: 2rem 1rem 0 1rem;
}

@media (max-width: 600px) {
    .container {
        padding: 1.5rem 1rem 0 1rem;
    }
}

/* ==========================================================================
   Header & Navigation
   ========================================================================== */

body > .container:first-of-type {
    padding-bottom: 0;
}

nav {
    display: flex;
    gap: 1.5rem;
    margin-bottom: var(--space-section);
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--border-color);
}

main .container {
    padding-top: 0;
}

nav a {
    color: var(--text-primary);
    font-weight: 500;
    text-decoration: none;
}

nav a:hover,
nav a.active {
    color: var(--brand-orange);
}

/* ==========================================================================
   Site Footer (Unified Footer Zone)
   ========================================================================== */

.site-footer {
    margin-top: var(--space-section);
}

.site-footer-inner {
    max-width: 700px;
    margin: 0 auto;
    padding: var(--space-divider) 1rem var(--space-divider) 1rem;
    position: relative;
}

.site-footer-inner::before {
    content: '';
    position: absolute;
    top: 0;
    left: 1rem;
    right: 1rem;
    height: 1px;
    background: var(--border-color);
    transition: background-color 0.3s ease;
}

.email-signup-intro {
    color: var(--text-secondary);
    font-size: 1rem;
    line-height: 1.6;
    margin-bottom: var(--space-tight);
}

.email-form {
    display: flex;
    gap: 0.5rem;
    align-items: stretch;
    margin-bottom: var(--space-divider);
    flex-wrap: nowrap;
}

.email-form input[type="email"] {
    padding: 0.4rem 0;
    border: none;
    border-bottom: 1px solid var(--border-color);
    border-radius: 0;
    font-size: 0.9rem;
    font-family: var(--font-system);
    background: var(--background-body);
    color: var(--text-primary);
    flex: 1;
    max-width: 260px;
    transition: border-color 0.3s ease;
}

.email-form input[type="email"]:focus {
    outline: none;
    border-bottom-color: var(--brand-orange);
}

.email-form input[type="email"]::placeholder {
    color: var(--text-meta);
    opacity: 0.5;
}

.email-form button {
    padding: 0.5rem 1rem;
    background: transparent;
    color: var(--text-meta);
    border: 1px solid var(--text-meta);
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 500;
    font-family: inherit;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    flex-shrink: 0;
}

.email-form button:hover {
    border-color: var(--brand-orange);
    color: var(--brand-orange);
}

.footer-links {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.footer-links a {
    color: var(--text-meta);
    text-decoration: none;
    transition: color 0.3s ease;
    font-size: 0.85rem;
}

.footer-links a:hover {
    color: var(--brand-orange);
}

@media (max-width: 600px) {
    .email-form {
        flex-wrap: nowrap;
    }

    .email-form input[type="email"] {
        max-width: none;
    }

    .footer-links {
        gap: 0.75rem;
    }
}

/* ==========================================================================
   Homepage Sections
   ========================================================================== */

.bio {
    margin-bottom: var(--space-large);
    color: var(--text-secondary);
    font-size: 1rem;
    line-height: var(--line-height-body);
}

/* Latest Essay Section */
.latest-essay {
    margin-bottom: var(--space-large);
}

.latest-essay h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    line-height: 1.3;
}

.latest-essay h2 a {
    color: var(--text-primary);
}

.latest-essay h2 a:hover {
    color: var(--brand-orange);
}

.latest-essay p {
    color: var(--text-secondary);
    margin-bottom: 0.75rem;
    font-size: 1rem;
    line-height: var(--line-height-body);
}

/* ==========================================================================
   Podcast Feature Box
   ========================================================================== */

.podcast {
    margin-bottom: var(--space-large);
    padding: 2rem;
    background: var(--background-card);
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: background-color 0.3s ease;
}

.podcast-services-card {
    padding: 2rem;
    background: var(--background-card);
    border-radius: 8px;
    border: 1px solid var(--border-color);
    margin-bottom: 2rem;
}

.rss-feed-card {
    padding: 2rem;
    background: var(--background-card);
    border-radius: 8px;
    border: 1px solid var(--border-color);
    margin-top: 1rem;
    margin-bottom: 2rem;
    position: relative;
}

.podcast-header {
    display: flex;
    gap: 1.5rem;
    align-items: flex-start;
    margin-bottom: 1rem;
}

.podcast-art {
    width: 120px;
    height: 120px;
    border-radius: 8px;
    flex-shrink: 0;
    object-fit: cover;
    display: block;
    border: none;
    outline: none;
    box-shadow: none;
    background: none;
}

.podcast-info h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.podcast-info p {
    color: var(--text-secondary);
    font-size: 0.95rem;
}

.podcast-links {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    align-items: center;
}

@media (max-width: 600px) {
    .podcast-header {
        flex-direction: column;
    }

    .podcast-art {
        width: 100px;
        height: 100px;
    }
}

/* Podcast services links */
.podcast-services {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
}

.podcast-services a {
    font-size: 0.95rem;
}

/* ==========================================================================
   Topic Tags Section
   ========================================================================== */

.topics {
    margin-bottom: var(--space-element);
}

.topics h3 {
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-meta);
    margin-bottom: 1rem;
    font-weight: 500;
}

.topic-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
}

.topic-tags a {
    color: var(--text-tertiary);
    text-decoration: none;
    font-size: 0.95rem;
}

.topic-tags a:hover {
    color: var(--brand-orange);
}

/* ==========================================================================
   Essay Listings
   ========================================================================== */

.recent-essays {
    margin-bottom: var(--space-large);
}

.recent-essays h3,
.page-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
}

.page-subtitle {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin-bottom: 2rem;
}

.essay-item {
    margin-bottom: 0.75rem;
}

.essay-item a {
    color: var(--text-primary);
    text-decoration: none;
    display: flex;
    gap: 0.5rem;
    line-height: 1.5;
    align-items: baseline;
}

.essay-item a:hover {
    color: var(--brand-orange);
}

.essay-date {
    color: var(--text-meta);
    font-size: 0.9rem;
    font-variant-numeric: tabular-nums;
    flex-shrink: 0;
    white-space: nowrap;
    min-width: 85px;
}

.essay-title {
    flex: 1;
}

.all-essays {
    margin-top: 1rem;
}

/* Topic/Category Page */
.topic-count {
    color: var(--text-meta);
    font-size: 0.9rem;
    margin-bottom: 2rem;
}

.essay-list {
    margin-bottom: var(--space-large);
}

/* ==========================================================================
   Single Essay Page
   ========================================================================== */

.essay-content {
    max-width: 700px;
}

.essay-meta {
    margin-bottom: 1rem;
    color: var(--text-meta);
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.essay-meta-separator {
    opacity: 0.5;
}

.essay-title-single {
    font-size: 2.5rem;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 2rem;
    letter-spacing: -0.03em;
}

.essay-body {
    font-size: 18px;
    line-height: var(--line-height-essay);
}

.essay-body p {
    margin-bottom: 1.5rem;
    color: var(--text-primary);
}

.essay-body h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
}

.essay-body h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 0.75rem;
    letter-spacing: -0.015em;
}

.essay-body ul {
    margin: 1.5rem 0;
    padding-left: 1.5rem;
}

.essay-body li {
    margin-bottom: var(--list-item-spacing);
    line-height: var(--line-height-essay);
    color: var(--text-primary);
}

.essay-body strong {
    font-weight: 600;
    color: var(--text-primary);
}

.essay-body a {
    color: var(--brand-orange);
    text-decoration: underline;
}

.essay-body a:hover {
    color: var(--brand-orange-hover);
}

/* ==========================================================================
   Markdown Elements - Essay Body & Note Body
   ========================================================================== */

/* Ordered Lists */
.essay-body ol,
.note-body ol {
    margin: 1.5rem 0;
    padding-left: 1.5rem;
}

.essay-body ol li,
.note-body ol li {
    margin-bottom: var(--list-item-spacing);
    line-height: var(--line-height-essay);
    color: var(--text-primary);
}

/* Nested Lists */
.essay-body li > ul,
.essay-body li > ol,
.note-body li > ul,
.note-body li > ol {
    margin: 0.5rem 0 0 0;
}

/* H4, H5, H6 */
.essay-body h4,
.note-body h4 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-top: 1.75rem;
    margin-bottom: 0.5rem;
    letter-spacing: -0.01em;
}

.essay-body h5,
.note-body h5 {
    font-size: 1rem;
    font-weight: 600;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
}

.essay-body h6,
.note-body h6 {
    font-size: 0.95rem;
    font-weight: 600;
    margin-top: 1.25rem;
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Blockquotes */
.essay-body blockquote,
.note-body blockquote {
    margin: 2rem 0;
    padding: 1rem 1.5rem;
    border-left: 4px solid var(--brand-orange);
    background: var(--background-card);
    font-style: italic;
    color: var(--text-secondary);
}

.essay-body blockquote p,
.note-body blockquote p {
    margin-bottom: 1rem;
}

.essay-body blockquote p:last-child,
.note-body blockquote p:last-child {
    margin-bottom: 0;
}

/* Nested blockquotes */
.essay-body blockquote blockquote,
.note-body blockquote blockquote {
    margin: 1rem 0;
    border-left-color: var(--text-meta);
}

/* Inline Code */
.essay-body code,
.note-body code {
    font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
    font-size: 0.9em;
    background: var(--background-card);
    padding: 0.2em 0.4em;
    border-radius: 3px;
    border: 1px solid var(--border-color);
    white-space: nowrap;
}

/* Code Blocks */
.essay-body pre,
.note-body pre {
    margin: 2rem 0;
    padding: 1.5rem;
    background: var(--background-card);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    overflow-x: auto;
    line-height: 1.5;
}

.essay-body pre code,
.note-body pre code {
    background: none;
    padding: 0;
    border: none;
    border-radius: 0;
    font-size: 0.875rem;
}

/* Syntax highlighted code (Hugo default) */
.essay-body .highlight,
.note-body .highlight {
    margin: 2rem 0;
}

.essay-body .highlight pre,
.note-body .highlight pre {
    margin: 0;
}

/* NOTE: Hugo generates inline styles for syntax highlighting - we must use !important to override them
   Attribute selectors like [style*="color:#..."] are expensive but necessary for Hugo's generated output */
.essay-body .highlight span[style*="color:#00a8c8"],
.note-body .highlight span[style*="color:#00a8c8"] {
    color: var(--syntax-keyword) !important;
}

.essay-body .highlight span[style*="color:#75af00"],
.note-body .highlight span[style*="color:#75af00"] {
    color: var(--syntax-function) !important;
}

.essay-body .highlight span[style*="color:#d88200"],
.note-body .highlight span[style*="color:#d88200"] {
    color: var(--syntax-string) !important;
}

.essay-body .highlight span[style*="color:#f92672"],
.note-body .highlight span[style*="color:#f92672"] {
    color: var(--syntax-operator) !important;
}

.essay-body .highlight span[style*="color:#111"],
.note-body .highlight span[style*="color:#111"] {
    color: var(--syntax-default) !important;
}

/* Horizontal Rules */
.essay-body hr,
.note-body hr {
    margin: var(--space-large) 0;
    border: none;
    border-top: 1px solid var(--border-color);
}

/* Tables */
.essay-body table,
.note-body table {
    width: 100%;
    margin: 2rem 0;
    border-collapse: collapse;
    font-size: 0.95rem;
}

.essay-body table th,
.note-body table th {
    padding: 0.75rem 1rem;
    text-align: left;
    font-weight: 600;
    background: var(--background-card);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
}

.essay-body table td,
.note-body table td {
    padding: 0.75rem 1rem;
    border: 1px solid var(--border-color);
    color: var(--text-primary);
}

.essay-body table tbody tr:nth-child(even),
.note-body table tbody tr:nth-child(even) {
    background: var(--background-card);
}

/* Right-aligned table columns */
.essay-body table td:last-child,
.essay-body table th:last-child,
.note-body table td:last-child,
.note-body table th:last-child {
    text-align: right;
}

/* Task Lists */
.essay-body input[type="checkbox"],
.note-body input[type="checkbox"] {
    margin-right: 0.5rem;
    vertical-align: middle;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    width: 1.1em;
    height: 1.1em;
    border: 2px solid var(--border-color);
    border-radius: 3px;
    background: var(--background-card);
    cursor: default;
    position: relative;
    flex-shrink: 0;
}

/* NOTE: :has() selector requires Firefox 121+ (Dec 2023), Safari 15.4+ (Mar 2022), Chrome 105+ (Aug 2022)
   Used to hide list markers on task list items - acceptable graceful degradation */
.essay-body li:has(input[type="checkbox"])::marker,
.note-body li:has(input[type="checkbox"])::marker {
    content: '';
    display: none;
}

.essay-body li:has(input[type="checkbox"]),
.note-body li:has(input[type="checkbox"]) {
    list-style: none;
}

.essay-body input[type="checkbox"]:checked,
.note-body input[type="checkbox"]:checked {
    background: var(--text-meta);
    border-color: var(--text-meta);
}

.essay-body input[type="checkbox"]:checked::after,
.note-body input[type="checkbox"]:checked::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 0.9em;
    font-weight: bold;
    line-height: 1;
}

.essay-body li input[type="checkbox"],
.note-body li input[type="checkbox"] {
    margin-left: -1.5rem;
    margin-right: 0.75rem;
}

/* Definition Lists */
.essay-body dl,
.note-body dl {
    margin: 1.5rem 0;
}

.essay-body dt,
.note-body dt {
    font-weight: 600;
    margin-top: 1rem;
    color: var(--text-primary);
}

.essay-body dt:first-child,
.note-body dt:first-child {
    margin-top: 0;
}

.essay-body dd,
.note-body dd {
    margin-left: 2rem;
    margin-top: 0.5rem;
    color: var(--text-secondary);
}

/* Footnotes */
.essay-body .footnotes,
.note-body .footnotes {
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 1px solid var(--border-color);
    font-size: 0.9rem;
    color: var(--text-meta);
}

.essay-body .footnotes ol,
.note-body .footnotes ol {
    padding-left: 1.5rem;
}

.essay-body .footnote-ref,
.note-body .footnote-ref {
    text-decoration: none;
    font-weight: 600;
}

.essay-body .footnote-backref,
.note-body .footnote-backref {
    text-decoration: none;
    margin-left: 0.25rem;
}

/* Images */
.essay-body img,
.note-body img {
    max-width: 100%;
    height: auto;
    margin: 2rem 0;
    border-radius: 6px;
    display: block;
}

/* Strikethrough */
.essay-body del,
.note-body del {
    color: var(--text-meta);
    text-decoration: line-through;
}

/* Superscript & Subscript */
.essay-body sup,
.essay-body sub,
.note-body sup,
.note-body sub {
    font-size: 0.75em;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

.essay-body sup,
.note-body sup {
    top: -0.5em;
}

.essay-body sub,
.note-body sub {
    bottom: -0.25em;
}

/* Emphasis */
.essay-body em,
.note-body em {
    font-style: italic;
}

.essay-footer {
    margin-top: var(--space-large);
    padding-top: 2rem;
    border-top: 1px solid var(--border-color);
    font-style: italic;
}

.essay-footer p {
    color: var(--text-secondary);
}

/* Back links - unified styling for all back links */
.essay-back-link,
.note-back-link,
.back-link {
    margin-top: 2rem;
}

.essay-back-link,
.note-back-link {
    padding-top: 0;
}

.essay-back-link a,
.note-back-link a,
.back-link a,
.page-body .back-link a {
    color: var(--text-meta) !important;
    text-decoration: none !important;
    font-size: 0.95rem;
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
}

.essay-back-link a:hover,
.note-back-link a:hover,
.back-link a:hover,
.page-body .back-link a:hover {
    color: var(--brand-orange) !important;
    text-decoration: none !important;
}

/* ==========================================================================
   Now Page
   ========================================================================== */

.now-updated {
    color: var(--text-meta);
    font-size: 0.9rem;
    margin-bottom: 2rem;
}

/* ==========================================================================
   Media Page
   ========================================================================== */

/* NOTE: Broad selector - applies to first <p> in any main element sitewide
   Currently only affects Media Page subtitle, but may need refinement if scope expands */
main > p:first-of-type {
    color: var(--text-secondary);
    margin-bottom: var(--space-large);
}

.media-section {
    margin-bottom: var(--space-large);
}

.media-section h3 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-top: var(--space-large);
    margin-bottom: 1rem;
}

/* NOTE: :has() selector requires Firefox 121+, Safari 15.4+, Chrome 105+ - acceptable graceful degradation */
.media-section:has(.contact-info) h3 {
    margin-top: 4rem;
}

.media-section p {
    color: var(--text-primary);
    margin-bottom: 0.5rem;
}

.media-section ul {
    margin-left: 1.5rem;
    color: var(--text-primary);
}

.media-section ul li {
    margin-bottom: var(--list-item-spacing);
}

.bio-text {
    background: var(--background-card);
    padding: 1.5rem;
    border-radius: 8px;
    color: var(--text-primary);
    margin-bottom: 1rem;
    line-height: 1.7;
    font-size: 1rem;
}

.download-link {
    margin-top: 0.5rem;
}

.contact-info {
    background: var(--background-card);
    padding: 1.5rem;
    border-radius: 8px;
}

.contact-info-clean {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.contact-item {
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
}

.contact-info .contact-label {
    color: var(--text-secondary);
    font-weight: 600;
    min-width: 80px;
}

.contact-item a:hover {
    text-decoration: underline;
}

/* ==========================================================================
   .org Specific - Workshop Intro
   ========================================================================== */

.workshop-intro {
    margin-bottom: var(--space-large);
    color: var(--text-secondary);
    font-size: 1rem;
    line-height: var(--line-height-body);
}

.workshop-intro a {
    color: var(--brand-orange);
    text-decoration: none;
}

.workshop-intro a:hover {
    color: var(--brand-orange-hover);
    text-decoration: underline;
}

/* ==========================================================================
   .org Specific - Note Pages
   ========================================================================== */

.note-content {
    max-width: 700px;
}

.note-meta {
    margin-bottom: 1rem;
    color: var(--text-meta);
    font-size: 0.9rem;
}

.note-title,
.note-title-single {
    font-size: 2rem;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 2rem;
    letter-spacing: -0.03em;
}

.note-body {
    font-size: 18px;
    line-height: var(--line-height-essay);
}

.note-body p {
    margin-bottom: 1.5rem;
    color: var(--text-primary);
}

.note-body h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
}

.note-body h3 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 0.75rem;
    letter-spacing: -0.015em;
}

.note-body ul {
    margin: 1.5rem 0;
    padding-left: 1.5rem;
}

.note-body li {
    margin-bottom: var(--list-item-spacing);
    line-height: var(--line-height-essay);
    color: var(--text-primary);
}

.note-body strong {
    font-weight: 600;
    color: var(--text-primary);
}

.note-body a {
    color: var(--brand-orange);
    text-decoration: underline;
}

.note-body a:hover {
    color: var(--brand-orange-hover);
}

/* Wrapper for back links with top margin */
.back-link-wrapper {
    margin-top: 2rem;
}

.note-item {
    margin-bottom: 0.75rem;
}

.note-item a {
    color: var(--text-primary);
    text-decoration: none;
    display: flex;
    gap: 0.5rem;
    line-height: 1.5;
    align-items: baseline;
}

.note-item a:hover {
    color: var(--brand-orange);
}

.note-date {
    color: var(--text-meta);
    font-size: 0.9rem;
    font-variant-numeric: tabular-nums;
    flex-shrink: 0;
    white-space: nowrap;
    min-width: 85px;
}

.note-title-link {
    flex: 1;
}

.all-notes {
    margin-top: 1rem;
}

/* ==========================================================================
   About/Page Content
   ========================================================================== */

.page-content {
    max-width: 700px;
}

.page-body {
    line-height: var(--line-height-body);
}

.page-body p {
    margin-bottom: 1.5rem;
    color: var(--text-primary);
}

.page-body h2 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
}

.page-body h3 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
    letter-spacing: -0.015em;
}

.page-body ul {
    margin: 1.5rem 0;
    padding-left: 1.5rem;
}

.page-body li {
    margin-bottom: var(--list-item-spacing);
    line-height: var(--line-height-essay);
    color: var(--text-primary);
}

.page-body strong {
    font-weight: 600;
    color: var(--text-primary);
}

.page-body a {
    color: var(--brand-orange);
    text-decoration: underline;
}

.page-body a:hover {
    color: var(--brand-orange-hover);
}

/* ==========================================================================
   Pagination
   ========================================================================== */

.pagination {
    margin-top: var(--space-large);
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
}

.pagination-prev,
.pagination-next {
    color: var(--text-meta);
    text-decoration: none;
    font-size: 0.95rem;
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
}

.pagination-prev:hover,
.pagination-next:hover {
    color: var(--brand-orange);
}

@media (max-width: 600px) {
    .pagination {
        flex-direction: column;
        align-items: flex-start;
    }
}

/* ==========================================================================
   Connect Page
   ========================================================================== */

.page-intro {
    color: var(--text-secondary);
    font-size: 1rem;
    margin-bottom: var(--space-large) !important;
    line-height: 1.6;
}

.contact-method {
    margin-bottom: 2rem;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.contact-label {
    font-weight: 400;
    color: var(--text-meta);
    font-size: 0.85rem;
}

.contact-value {
    color: var(--brand-orange) !important;
    text-decoration: none !important;
    font-size: 1rem;
    transition: color 0.3s ease;
}

.contact-value:hover {
    color: var(--brand-orange-hover) !important;
}

.vcard-link {
    color: var(--text-meta) !important;
    text-decoration: none !important;
    font-size: 0.85rem;
    margin-top: var(--space-large);
    display: inline-block;
    transition: color 0.3s ease;
}

.vcard-link:hover {
    color: var(--brand-orange) !important;
}

/* ==========================================================================
   Skip Links (Keyboard Navigation)
   ========================================================================== */

.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--brand-orange);
    color: white;
    padding: 0.5rem 1rem;
    text-decoration: none;
    z-index: 10000;
    font-weight: 500;
    border-radius: 0 0 4px 0;
}

.skip-link:focus {
    top: 0;
}

/* ==========================================================================
   Utility Classes
   ========================================================================== */

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* ==========================================================================
   Dark Mode Overrides
   ========================================================================== */

@media (prefers-color-scheme: dark) {
    /* Typography - Base headings */
    h2 {
        color: #ffffff;
    }

    h3 {
        color: #f5f5f5;
    }

    /* Content Bodies - Essay & Note headings */
    .essay-body h2,
    .note-body h2,
    .page-body h2 {
        color: #ffffff;
    }

    .essay-body h3,
    .note-body h3,
    .page-body h3 {
        color: #f5f5f5;
    }

    .essay-body h4,
    .note-body h4 {
        color: #f5f5f5;
    }

    .essay-body h5,
    .note-body h5,
    .essay-body h6,
    .note-body h6 {
        color: #e8e8e8;
    }

    /* Components - Cards */
    .podcast,
    .podcast-services-card,
    .rss-feed-card {
        border: none;
    }

    /* Syntax Highlighting - Code blocks */
    .essay-body .highlight pre,
    .note-body .highlight pre {
        background: #1e1e1e !important;
        border-color: var(--border-color);
    }

    .essay-body .highlight pre[style],
    .note-body .highlight pre[style] {
        background: #1e1e1e !important;
        color: #d0d0d0 !important;
    }

    /* Syntax Highlighting - Token colors */
    .essay-body .highlight span[style*="color:#00a8c8"],
    .note-body .highlight span[style*="color:#00a8c8"] {
        color: var(--syntax-keyword) !important;
    }

    .essay-body .highlight span[style*="color:#75af00"],
    .note-body .highlight span[style*="color:#75af00"] {
        color: var(--syntax-function) !important;
    }

    .essay-body .highlight span[style*="color:#d88200"],
    .note-body .highlight span[style*="color:#d88200"] {
        color: var(--syntax-string) !important;
    }

    .essay-body .highlight span[style*="color:#f92672"],
    .note-body .highlight span[style*="color:#f92672"] {
        color: var(--syntax-operator) !important;
    }

    .essay-body .highlight span[style*="color:#111"],
    .note-body .highlight span[style*="color:#111"] {
        color: var(--syntax-default) !important;
    }
}

/* ==========================================================================
   Print Styles
   ========================================================================== */

@media print {
    body::before {
        display: none;
    }
    
    nav,
    footer,
    .podcast,
    .topic-tags {
        display: none;
    }
    
    body {
        background: white;
        color: black;
    }
    
    a {
        color: black;
        text-decoration: underline;
    }
}
